<div class="recipes-container">
  <div class="top-actions">
    <a routerLink="/add" class="add-btn">+ Add Recipe</a>
  </div>

  <div class="filters">
    <input
      type="text"
      placeholder="ğŸ” Search recipes..."
      [(ngModel)]="searchValue"
      (input)="onSearchChange(searchValue)"
    />

    <select [(ngModel)]="selectedCategory" (change)="onCategoryChange(selectedCategory)">
      <option value="All">All Categories</option>
      <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
    </select>
  </div>

  <div *ngIf="filtered.length > 0; else empty" class="recipe-list">
    <div *ngFor="let r of filtered" class="recipe-card">
      
      <div class="card-image" style="width: 100%; height: 180px; overflow: hidden; border-radius: 8px 8px 0 0; margin-bottom: 10px;">
         <img 
            [src]="r.imageUrl || 'https://placehold.co/600x400?text=No+Image'" 
            [alt]="r.name" 
            style="width: 100%; height: 100%; object-fit: cover;"
         >
      </div>

      <div class="header">
        <h3>
          <a [routerLink]="['/recipes', r.id]" class="name-link">{{ r.name }}</a>
        </h3>
        <span class="cat">{{ r.category }}</span>
      </div>

      <div class="meta">
        <span *ngIf="r.isFavorite">â­ Favorite</span>
        <span *ngIf="!r.isFavorite">â˜†</span>
      </div>

      <div class="actions">
        <a [routerLink]="['/edit', r.id]" class="edit-btn">âœï¸ Edit</a>
        <button (click)="onToggleFavorite(r.id)">
          {{ r.isFavorite ? 'ğŸ’” Remove' : 'â¤ï¸ Favorite' }}
        </button>
        <button class="delete" (click)="onDelete(r.id)">ğŸ—‘ Delete</button>
      </div>
    </div>
  </div>

  <ng-template #empty>
    <p class="empty">No recipes found ğŸ˜”</p>
  </ng-template>
</div>